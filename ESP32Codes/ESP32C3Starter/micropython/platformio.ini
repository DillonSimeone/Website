[env:esp32c3_supermini_micropython]
platform = espressif32
board = esp32-c3-devkitm-1 ; A common generic ESP32-C3 board definition
;framework = arduino ; Not needed as we are flashing a pre-compiled binary
build_flags = -DPIO_FRAMEWORK_CUSTOM ; Signals PlatformIO not to expect a standard framework build
monitor_speed = 115200

; Use a custom upload command to flash the pre-downloaded firmware.
; This allows us to flash your specific .bin file using PlatformIO's
; managed esptool and environment, including auto-port detection.
;
; Commands for custom upload:
;  - To ERASE flash: `pio run -e esp32c3_supermini_micropython -t erase`
;  - To UPLOAD firmware: `pio run -e esp32c3_supermini_micropython -t upload_micropython_firmware`
;
; Important: This configuration makes PlatformIO use the `esptool`
; located within its own managed packages, ensuring it's always found.

extra_scripts =
    pre:custom_flash.py

[common]
; Define the path to your downloaded MicroPython firmware
micropython_firmware = ${PROJECT_DIR}/ESP32_GENERIC_C3-20251209-v1.27.0.bin
