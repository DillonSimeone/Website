// Fire simulation
pos = index / pixelCount;
flicker = wave(time * 3 + pos * 2) * 0.3 + 0.7;
heat = 1 - pos;
hsv(0.05 * heat, 1, flicker * heat);
